<div fxLayout="column" [formGroup]="form">
  <mat-form-field appearance="outline">
    <mat-label>Address 1</mat-label>
    <input matInput required formControlName="addressLine1" placeholder="Address 1">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Address 2</mat-label>
    <input matInput formControlName="addressLine2" placeholder="Address 2">
  </mat-form-field>

  <div fxLayout="row" fxLayoutAlign="space-between" fxLayoutGap="21px">
    <mat-form-field fxFlex="45" appearance="outline">
      <mat-label>City</mat-label>
      <input matInput required formControlName="city" placeholder="City">
    </mat-form-field>

    <mat-form-field fxFlex="30" appearance="outline">
      <mat-label>State</mat-label>
      <mat-select placeholder="State" required formControlName="state">
        <mat-optgroup *ngFor="let group of stateGroups" [label]="group.country">
          <mat-option
            *ngFor="let state of group.states"
            [value]="state.abbreviation">
            {{ state.name }}
          </mat-option>
        </mat-optgroup>
      </mat-select>
    </mat-form-field>

    <mat-form-field fxFlex="25" appearance="outline">
      <mat-label>Postal Code</mat-label>
      <input matInput required formControlName="zip" placeholder="Postal Code">
    </mat-form-field>
  </div>
</div>
<pre>{{ form.valid | json }}</pre>
<pre>{{ form.value | json }}</pre>
